#include <iostream>
using namespace std;
#include  "rlutil.h"


struct producto
{
    int id;
    char nombre[30];
    float precio;
    int stock;
    int stockmin;

};
using namespace rlutil;
#include <cstdlib>
#include "menu.h"
#include "productos.h"


const int TAM=10;
int main()
{
    producto vp[TAM];

    menu(vp,TAM);

    return 0;
}


#ifndef MENU_H_INCLUDED
#define MENU_H_INCLUDED
#include "productos.h"

void menu(producto *v,int TAM)
{
 bool salir=false;
    int op;
    while (!salir)
    {
    system("cls");
 setColor(GREEN);
    cout<<"============MENU DE PRODUCTOS============*"<<endl;
    setColor(WHITE);
    cout<<"=========================================*"<<endl;
    setColor(LIGHTBLUE);
    cout<<"1-CARGAR PRODUCTO                        | "<<endl;
    cout<<"2-EDITAR PRODUCTO X ID                   |"<<endl;
    cout<<"3-LISTAR PRODUCTO X ID                   |"<<endl;
    cout<<"4-LISTAR PRODUCTOS (ordenados x precio)  |"<<endl;
     setColor(WHITE);
    cout<<"=========================================*"<<endl;
    setColor(RED);
    cout<<"0-SALIR----------------------------------*"<<endl;
    cin>>op;
    cin.ignore();

    switch(op)
    {
        case 1:
            {
                system("cls");
               setColor(LIGHTBLUE);
                cout<<"*------CARGAR PRODUCTO------*"<<endl;
                cargarPro(v,TAM);

            }break;
              case 2:
            {
                system("cls");
               setColor(LIGHTBLUE);
                cout<<"*------EDITAR PRODUCTO x ID------*"<<endl;
                int id;
                cout<<"Ingrese el ID del producto : "<<endl;
                cin>>id;
                 editar(v,TAM,id);

            }break;
              case 3:
            {
                int id;
                system("cls");
                setColor(LIGHTBLUE);
                cout<<"*------LISTAR PRODUCTO x ID------*"<<endl;
                cout<<"Ingrese el ID del producto a buscar :"<<endl;
                listar(v,TAM,id);


            }break;
              case 4:
            {
                system("cls");
                setColor(LIGHTBLUE);
               cout<<"*------LISTAR PRODUCTOS ORDENADOS------*"<<endl;
                  ordenados(v,TAM);

            }break;
             default:
            {
                system("cls");
               cout<<"OPCION INCORRECTA, POR FAVOR INGRESE UNA DE LAS OPCIONES VALIDAS"<<endl;


            }break;
        case 0:
            {
                system("cls");
                salir=true;
                cout<<"PROGRAMA FINALIZADO, TOQUE CUALQUIER TECLA.";
            }
    }
cin.get();
    }
}


#endif // MENU_H_INCLUDED




#ifndef PRODUCTOS_H_INCLUDED
#define PRODUCTOS_H_INCLUDED
using namespace std;

void cargarPro(struct producto *v,int TAM)
{
    for(int i=0;i<TAM;i++)
    {
        cout<<"Ingrese ID del producto : ";
        cin>>v[i].id;
        cout<<"Ingrese el nombre : ";
        cin>>v[i].nombre;
        cout<<"Ingrese el precio $ : ";
        cin>>v[i].precio;
        cout<<"Ingrese stock : ";
        cin>>v[i].stock;
        cout<<"Ingrese stock minimo : ";
        cin>>v[i].stockmin;
        system("cls");

    }
}

void ordenados(struct producto *v,int TAM)
{
    producto aux;
    for(int y=0;y<TAM;y++)
    {
        for(int x=TAM-1;x>=y;x--)
        {
            if(v[x+1].precio>v[x].precio)
            {
                aux=v[x+1];
                v[x+1]=v[x];
                v[x]=aux;
            }
        }
    }

    cout<<"*===================================================================*"<<endl;
        cout<<"|   ID   |   NOMBRE   |   PRECIO   |   STOCK   |   STOCK MINIMO     |"<<endl;
        cout<<"*===================================================================*"<<endl;
    for(int a=0;a<TAM;a++)
    {
      if(v[a].id!=0)
      {
        cout<<" "<<v[a].id;
                cout<<"         "<<v[a].nombre;
                cout<<"           $"<<v[a].precio;
                cout<<"              "<<v[a].stock;
                cout<<"                "<<v[a].stockmin<<endl;
                cout<<"-------------------------------------------------------------------*|"<<endl;
      }

    }

}

void editar(producto *v,int TAM,int id)
{
    bool si=false;
    int pos,nuevo;

       for(int i=0;i<TAM;i++)
       {
           if (id==v[i].id)
           {
               si=true;
               pos=i;

           }
       }

       if (si)
       {
        cout<<"*===================================================================*"<<endl;
        cout<<"|   ID   |   NOMBRE   |   PRECIO   |   STOCK   |   STOCK MINIMO     |"<<endl;
        cout<<"*===================================================================*"<<endl;
        cout<<" "<<v[pos ].id;
                cout<<"         "<<v[pos ].nombre;
                cout<<"           $"<<v[pos ].precio;
                cout<<"              "<<v[pos ].stock;
                cout<<"                "<<v[pos ].stockmin<<endl;
                cout<<"-------------------------------------------------------------------*|"<<endl;
                
                cout<<"Â¿Editar producto?"<<endl;
                
                cout<<"1->  SI"<<endl;
                cout<<"2-> NO"<<endl;
                cin>>nuevo;
                switch (nuevo)
                {
                case 1:
                    {
                        system("cls");
        cout<<"Ingrese el nombre nuevo : ";
        cin>>v[pos].nombre;
        cout<<"Ingrese el precio nuevo $ : ";
        cin>>v[pos].precio;
        cout<<"Ingrese stock nuevo : ";
        cin>>v[pos].stock;
        cout<<"Ingrese stock minimo nuevo : ";
        cin>>v[pos].stockmin;
                    }break;
                case 2:
                    {
                        break;
                    }
                default:
                    {
                        system("cls");
                        cout<<"OPCION INCORRECTA"<<endl;
                    }break;
                }
                }
                else
                    {

                        system("cls");
                        cout<<"El ID del producto ingresado no existe"<<endl;
                     }

}
void listar(producto *v,int TAM,int id)
{
    bool si=false;
    int pos;
    for(int i=0;i<TAM;i++)
    {
        if(id==v[i].id)
        {
            si=true;
            pos=i;
        }
    }

    if(si)
    {
        cout<<"*===================================================================*"<<endl;
        cout<<"|   ID   |   NOMBRE   |   PRECIO   |   STOCK   |   STOCK MINIMO     |"<<endl;
        cout<<"*===================================================================*"<<endl;
        cout<<" "<<v[pos].id;
                cout<<"         "<<v[pos].nombre;
                cout<<"           $"<<v[pos].precio;
                cout<<"              "<<v[pos] .stock;
                cout<<"                "<<v[pos].stockmin<<endl;
                cout<<"-------------------------------------------------------------------*|"<<endl;
    }
    else
    {
        system("cls");
        cout<<"El ID buscado no existe"<<endl;
    }
}






#endif // PRODUCTOS_H_INCLUDED
